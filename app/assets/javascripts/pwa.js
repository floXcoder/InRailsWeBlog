'use strict';

if ('serviceWorker' in navigator) {
    window.addEventListener('load', () => {
        // SW is generated by Workbox webpack plugin
        navigator.serviceWorker.register('/serviceWorker.js')
            .then((registration) => {
                console.log('Service worker registered:', registration);
            }).catch(registrationError => {
            console.log('Service worker registration failed: ', registrationError);
        });
    });
}

// // Install prompt
// let deferredInstallPrompt = null;
// const installButton = document.getElementById('butInstall');
// installButton.addEventListener('click', installPWA);
//
// window.addEventListener('beforeinstallprompt', saveBeforeInstallPromptEvent);
//
// function saveBeforeInstallPromptEvent(event) {
//     deferredInstallPrompt = event;
//     installButton.removeAttribute('hidden');
// }
//
// function installPWA(event) {
//     deferredInstallPrompt.prompt();
//     event.srcElement.setAttribute('hidden', true);
//
//     deferredInstallPrompt.userChoice
//         .then((choice) => {
//             if (choice.outcome === 'accepted') {
//                 console.log('User accepted the A2HS prompt', choice);
//             } else {
//                 console.log('User dismissed the A2HS prompt', choice);
//             }
//             deferredInstallPrompt = null;
//         });
// }
//
// window.addEventListener('appinstalled', logAppInstalled);
//
// function logAppInstalled(event) {
//     console.log('Weather App was installed.', event);
// }
